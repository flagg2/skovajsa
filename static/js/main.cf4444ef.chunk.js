(this.webpackJsonpskovajsa=this.webpackJsonpskovajsa||[]).push([[0],{26:function(e,t,r){},28:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var n=r(2),c=r.n(n),i=r(19),a=r.n(i),o=(r(26),r(9)),s=r.n(o),d=r(20),u=r(10),j=r(3),O=r(4),h=r(5),p=r(7),b=r(6),l=(r.p,r(28),r(21)),v=r.n(l),f=r(0),m=[{id:1,name:"Veltl\xednske zelen\xe9",info:"such\xe9, biele, aov, 12.59% alk",price:8.5,priceWithTax:10},{id:2,name:"Ribezlak",info:"ribezlove, 8% alk",price:3,priceWithTax:5}],x=function(e){Object(p.a)(r,e);var t=Object(b.a)(r);function r(){return Object(O.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return Object(f.jsx)(k,{})}}]),r}(c.a.Component),k=function(e){Object(p.a)(r,e);var t=Object(b.a)(r);function r(e){var n;return Object(O.a)(this,r),(n=t.call(this,e)).state={count:1,order:[]},n.addToOrder=n.addToOrder.bind(Object(j.a)(n)),n.removeFromOrder=n.removeFromOrder.bind(Object(j.a)(n)),n.setCountOfProduct=n.setCountOfProduct.bind(Object(j.a)(n)),n}return Object(h.a)(r,[{key:"addToOrder",value:function(e){var t=this.state.order,r=m.find((function(t){return t.id===e}));t.find((function(t){return t.id===e}))?t.map((function(t){return t.id===e&&(t.count+=1),t})):t.push(Object(u.a)(Object(u.a)({},r),{},{count:1})),this.setState({order:t})}},{key:"removeFromOrder",value:function(e){var t=this.state.order;t=t.filter((function(t){return t.id!==e})),this.setState({order:t})}},{key:"setCountOfProduct",value:function(e,t){if(0===t)return this.removeFromOrder(e);var r=this.state.order;r=r.map((function(r){return r.id===e&&(r.count=t),r})),this.setState({order:r})}},{key:"componentDidMount",value:function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://marhulky.sk:8443/api/store/products");case 2:t=e.sent,this.setState({count:t.data.products.length});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=m.map((function(t){return Object(f.jsx)(y,{id:t.id,addToOrder:e.addToOrder,data:t})})),r=this.state.order.map((function(t){return Object(f.jsx)(F,{id:t.id,setCountOfProduct:e.setCountOfProduct,removeFromOrder:e.removeFromOrder,data:t})}));return Object(f.jsxs)("div",{className:"order-form",children:[Object(f.jsx)("h2",{children:"Objedn\xe1vka"}),Object(f.jsxs)("div",{className:"order-header",children:[Object(f.jsx)("div",{className:"product",children:"Produkt"}),Object(f.jsx)("div",{className:"price",children:"Cena"})]}),t,Object(f.jsx)("h2",{children:"Sum\xe1r"}),r,Object(f.jsx)(C,{order:this.state.order})]})}}]),r}(c.a.Component),C=function(e){Object(p.a)(r,e);var t=Object(b.a)(r);function r(){return Object(O.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){var e=this.props.order,t=e.reduce((function(e,t){return e+t.price*t.count}),0).toFixed(2)+"\u20ac",r=e.reduce((function(e,t){return e+t.priceWithTax*t.count}),0).toFixed(2)+"\u20ac";return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"priceBlock",children:[Object(f.jsx)("div",{children:"Cena bez DPH"}),Object(f.jsx)("div",{children:t})]}),Object(f.jsxs)("div",{className:"priceBlock",children:[Object(f.jsx)("div",{children:"Cena s DPH"}),Object(f.jsx)("div",{children:r})]})]})}}]),r}(c.a.Component),y=function(e){Object(p.a)(r,e);var t=Object(b.a)(r);function r(){return Object(O.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(){return e.props.addToOrder(e.props.data.id)},children:"+"}),Object(f.jsx)("h2",{children:this.props.data.name}),Object(f.jsx)("div",{children:this.props.data.info}),Object(f.jsx)("div",{children:this.props.data.price})]})}}]),r}(c.a.Component),F=function(e){Object(p.a)(r,e);var t=Object(b.a)(r);function r(){return Object(O.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:this.props.data.name}),Object(f.jsx)("input",{type:"number",min:0,value:this.props.data.count,onChange:function(t){e.props.setCountOfProduct(e.props.data.id,Number(t.target.value))}}),Object(f.jsx)("button",{onClick:function(){return e.props.removeFromOrder(e.props.data.id)},children:"X"})]})}}]),r}(c.a.Component),P=x,T=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,49)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),i(e),a(e)}))};a.a.render(Object(f.jsx)("div",{children:Object(f.jsx)(P,{})}),document.getElementById("root")),T()}},[[48,1,2]]]);
//# sourceMappingURL=main.cf4444ef.chunk.js.map