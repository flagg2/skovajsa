(this.webpackJsonpskovajsa=this.webpackJsonpskovajsa||[]).push([[0],{26:function(e,t,n){},28:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(21),s=n.n(c),i=(n(26),n(11)),o=n(8),d=n.n(o),u=n(10),l=n(3),h=n(4),j=n(5),p=n(7),b=n(6),O=(n.p,n(28),n(9)),v=n.n(O),m=n(0),f="http://localhost:8080/api",x=[{_id:1,name:"Veltl\xednske zelen\xe9",info:"such\xe9, biele, 12.59% alk",price:8.5,priceWithTax:10.2},{_id:2,name:"Pinot blanc",info:"such\xe9, biele, 13% alk",price:3,priceWithTax:5},{_id:3,name:"Frankovka modr\xe1",info:"such\xe9, \u010derven\xe9, 12.5% alk",price:7,priceWithTax:8.4}],g=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(m.jsx)(C,{})}}]),n}(r.a.Component),C=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={products:x,displayedProducts:x,order:[],contactInfo:{},currentType:void 0},a.addToOrder=a.addToOrder.bind(Object(l.a)(a)),a.removeFromOrder=a.removeFromOrder.bind(Object(l.a)(a)),a.setCountOfProduct=a.setCountOfProduct.bind(Object(l.a)(a)),a.filterProducts=a.filterProducts.bind(Object(l.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(l.a)(a)),a}return Object(j.a)(n,[{key:"filterProducts",value:function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("all"!==t){e.next=6;break}return e.next=3,v.a.get(f+"/products");case 3:n=e.sent,e.next=9;break;case 6:return e.next=8,v.a.post(f+"/products/filter",{filters:{type:t}});case 8:n=e.sent;case 9:this.setState({displayedProducts:n.data.products,currentType:t});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addToOrder",value:function(e){var t=this.state.order,n=this.state.products.find((function(t){return t._id===e}));t.find((function(t){return t._id===e}))?t.map((function(t){return t._id===e&&(t.count+=1),t})):t.push(Object(i.a)(Object(i.a)({},n),{},{count:1})),this.setState({order:t})}},{key:"handleInputChange",value:function(e,t){var n=Object(i.a)({},this.state.contactInfo);n[e]=t,this.setState({contactInfo:n}),console.log(this.state.contactInfo)}},{key:"removeFromOrder",value:function(e){var t=this.state.order;t=t.filter((function(t){return t._id!==e})),this.setState({order:t})}},{key:"setCountOfProduct",value:function(e,t){if(0===t)return this.removeFromOrder(e);var n=this.state.order;n=n.map((function(n){return n._id===e&&(n.count=t),n})),this.setState({order:n})}},{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(f+"/products");case 2:t=e.sent,this.setState({products:t.data.products,displayedProducts:t.data.products,currentType:"all"});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.displayedProducts.map((function(t){return Object(m.jsx)(y,{id:t._id,addToOrder:e.addToOrder,data:t})})),n=this.state.order.map((function(t){return Object(m.jsx)(k,{id:t._id,setCountOfProduct:e.setCountOfProduct,removeFromOrder:e.removeFromOrder,data:t})}));return Object(m.jsxs)("div",{className:"order-form",children:[Object(m.jsx)("h2",{className:"order-heading",children:"Objedn\xe1vka"}),Object(m.jsx)(I,{active:this.state.currentType,filterProducts:this.filterProducts}),Object(m.jsxs)("div",{className:"order-header",children:[Object(m.jsx)("h3",{className:"product",children:"Produkt"}),Object(m.jsx)("h3",{className:"price",children:"Cena"}),Object(m.jsx)("div",{className:"ks"})]}),t,Object(m.jsx)("h2",{className:"summary-heading",children:"Ko\u0161\xedk"}),Object(m.jsxs)("div",{className:"order-header",children:[Object(m.jsx)("h3",{className:"product",children:"Produkt"}),Object(m.jsx)("h3",{className:"price",children:"Cena"}),Object(m.jsx)("h3",{className:"ks",children:"Ks."})]}),n,Object(m.jsx)(N,{order:this.state.order}),Object(m.jsx)(T,{handleInputChange:this.handleInputChange})]})}}]),n}(r.a.Component),N=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props.order,t=e.reduce((function(e,t){return e+t.price*t.count}),0).toFixed(2)+"\u20ac",n=e.reduce((function(e,t){return e+t.priceWithTax*t.count}),0).toFixed(2)+"\u20ac";return Object(m.jsxs)("div",{className:"price-summary",children:[Object(m.jsxs)("div",{className:"price-block",children:[Object(m.jsx)("div",{children:"Cena bez DPH"}),Object(m.jsx)("div",{className:"price",children:t})]}),Object(m.jsxs)("div",{className:"price-block",children:[Object(m.jsx)("div",{children:"Cena s DPH"}),Object(m.jsx)("div",{className:"price",children:n})]})]})}}]),n}(r.a.Component),y=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"product-cont",children:[Object(m.jsx)("img",{className:"product-img",alt:"vino",src:"https://tvojevino.sk/upload/products/cabernet-sauvignon-vino-bez-histaminu.png"}),Object(m.jsxs)("div",{className:"name-and-info",children:[Object(m.jsx)("h4",{children:this.props.data.name}),Object(m.jsx)("div",{children:this.props.data.info})]}),Object(m.jsx)("div",{className:"price",children:this.props.data.priceWithTax.toFixed(2)+"\u20ac"}),Object(m.jsx)("div",{className:"add-to-cart",onClick:function(){return e.props.addToOrder(e.props.data._id)},children:Object(m.jsx)("ion-icon",{className:"add-icon",name:"add-circle-outline"})})]})}}]),n}(r.a.Component),k=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"product-cont",children:[Object(m.jsx)("h4",{children:this.props.data.name}),Object(m.jsx)("div",{className:"price",children:(this.props.data.priceWithTax*this.props.data.count).toFixed(2)+"\u20ac"}),Object(m.jsx)("div",{className:"set-quant",children:this.props.data.count}),Object(m.jsxs)("div",{className:"arrows",children:[Object(m.jsx)("div",{className:"arrow-up",onClick:function(){return e.props.setCountOfProduct(e.props.data._id,e.props.data.count+1)},children:Object(m.jsx)("ion-icon",{name:"arrow-up-outline"})}),Object(m.jsx)("div",{className:"arrow-down",onClick:function(){return e.props.setCountOfProduct(e.props.data._id,e.props.data.count-1)},children:Object(m.jsx)("ion-icon",{name:"arrow-down-outline"})})]})]})}}]),n}(r.a.Component),I=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=[{filterName:"all",heading:"V\u0161etko"},{filterName:"white",heading:"Biele"},{filterName:"red",heading:"\u010cerven\xe9"},{filterName:"rose",heading:"Ru\u017eov\xe9"}].map((function(t){return Object(m.jsx)(P,{filterProducts:e.props.filterProducts,active:e.props.active,filterName:t.filterName,heading:t.heading})}));return Object(m.jsx)("div",{className:"filters",children:t})}}]),n}(r.a.Component),P=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return console.log(this.props.active,this.props.filterName),Object(m.jsx)("div",{style:this.props.active===this.props.filterName?{backgroundColor:"black",color:"white"}:{},onClick:function(){return e.props.filterProducts(e.props.filterName)},children:this.props.heading})}}]),n}(r.a.Component),T=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this)).state={times:[],selectedCity:""},a.handleCityChange=a.handleCityChange.bind(Object(l.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(f+"/times");case 2:t=e.sent,this.setState({times:t.data.times}),t.data.times.length>1&&this.setState({selectedCity:t.data.times[0].city}),console.log(t.data.times);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleCityChange",value:function(e){this.setState({selectedCity:e})}},{key:"render",value:function(){var e=this,t=this.state.times.map((function(e){return Object(m.jsx)("option",{children:e.city})})),n=this.state.times.find((function(t){return t.city==e.state.selectedCity})),a=n&&n.dates.length>0?Object(m.jsx)("select",{onChange:function(t){return e.props.handleInputChange("date",t.target.value)},children:n.dates.map((function(e){return Object(m.jsx)("option",{children:e})}))}):Object(m.jsx)("div",{children:"\u017diadne term\xedny"});return Object(m.jsxs)("div",{className:"contactForm",children:[Object(m.jsx)("h4",{children:"Kontaktn\xe9 \xfadaje"}),Object(m.jsxs)("div",{className:"contactInfo",children:[Object(m.jsxs)("div",{className:"contactInput",children:[Object(m.jsx)("div",{className:"label",children:"Meno"}),Object(m.jsx)("input",{onChange:function(t){return e.props.handleInputChange("name",t.target.value)}})]}),Object(m.jsxs)("div",{className:"contactInput",children:[Object(m.jsx)("div",{className:"label",children:"Priezvisko"}),Object(m.jsx)("input",{onChange:function(t){return e.props.handleInputChange("surname",t.target.value)}})]}),Object(m.jsxs)("div",{className:"contactInput",children:[Object(m.jsx)("div",{className:"label",children:"Email"}),Object(m.jsx)("input",{onChange:function(t){return e.props.handleInputChange("email",t.target.value)}})]}),Object(m.jsxs)("div",{className:"contactInput",children:[Object(m.jsx)("div",{className:"label",children:"Telef\xf3n"}),Object(m.jsx)("input",{onChange:function(t){return e.props.handleInputChange("phone",t.target.value)}})]})]}),Object(m.jsx)("h4",{children:"Dodacie \xfadaje"}),Object(m.jsxs)("div",{className:"contactInfo",children:[Object(m.jsxs)("div",{className:"contactInput",children:[Object(m.jsx)("div",{className:"label",children:"N\xe1zov ulice a popisn\xe9 \u010d."}),Object(m.jsx)("input",{onChange:function(t){return e.props.handleInputChange("address",t.target.value)}})]}),Object(m.jsxs)("div",{className:"contactInput",children:[Object(m.jsx)("div",{className:"label",children:"Mesto"}),Object(m.jsx)("select",{onChange:function(t){e.props.handleInputChange("city",t.target.value),e.handleCityChange(t.target.value)},children:t})]}),Object(m.jsxs)("div",{className:"contactInput",children:[Object(m.jsx)("div",{className:"label",children:"Term\xedn dodania"}),a]})]}),Object(m.jsx)("div",{children:"S\xfahlas\xedm so spracovan\xedm osobn\xfdch \xfadajov"}),Object(m.jsx)("input",{type:"checkbox",onChange:function(t){return e.props.handleInputChange("gdpr",t.target.checked)}})]})}}]),n}(r.a.Component),w=g,F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(m.jsx)("div",{children:Object(m.jsx)(w,{})}),document.getElementById("root")),F()}},[[48,1,2]]]);
//# sourceMappingURL=main.ff7bb5bc.chunk.js.map